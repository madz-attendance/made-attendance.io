<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MADZ Attendance | Admin Account</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./images/madz-tab-icon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.43.4/dist/umd/supabase.min.js"></script>
<script src="supabaseInit.js"></script>
<body>

	<!-- The header, is a bounding box (header-master-box) filled with columns (header-col) -->
	<div class="header-master-box" id="header-master-box-ADMIN">
		<div class="header-col" id="header-col1-madz-logo">
			<img id="madz_logo" src="/images/madz_attendance_logo_inverted.png" class="madz-logo-v2">
		</div>
		<div class="header-col" id="header-col2-left-gap-ADMIN">
		
		</div>
		<div class="header-col" id="header-col3-tab-buttons-ADMIN">
			<div class="header-col-sub" id="header-col-buttons">
				<div class="header-button" id="welcome_button_ADMIN" onclick="openTab('welcomeTab')">
					Welcome
				</div>
				<div class="header-button" id="classes_button_ADMIN" onclick="openTab('classesTab')">
					Classes
				</div>
				<div class="header-button" id="create_account_button_ADMIN" onclick="openTab('create_account')">
					Create<br>Account
				</div>
				<div class="header-button" id="add_student_button" onclick="openTab('newStudent')" title="New Student">
    				Roster<br>Entry
				</div>
				<div class="header-button" id="remove_student_button" onclick="openTab('removeStudent')" title="Remove Student">
					Roster<br>Removal
				</div>
			</div>
		</div>
		<div class="header-col" id="header-col4-right-gap-ADMIN">
		
		</div>
		<div class="header-col" id="header-col5-extra-buttons-ADMIN">
			<div class="header-col-sub" id="header-col-extra-buttons-ADMIN">
			
				<div class="header-button" id="help_button_ADMIN" onclick="openTab('helpTab')" title="Help">
					<span class="material-symbols-outlined">
						help
					</span>
				</div>
				<div class="header-button" id="account_button_ADMIN" onclick="openTab('accountTab')" title="Account Info">
					<span class="material-symbols-outlined">
						account_circle
					</span>
				</div>
				<div class="header-button" id="notification_button_ADMIN" onclick="openTab('notificationTab')" title="Notifications">
					<span class="material-symbols-outlined">
						notifications
					</span>
				</div>
				<div class="header-button" id="log_out_button_ADMIN" onclick="logOut()" title="Log Out">
					<span class="material-symbols-outlined">
						logout
					</span>
				</div>
				
			</div>
		</div>
	</div>
	
    <!-- Main Content Area -->
    <main>
        <!-- Welcome Tab Content -->
        <section id="welcomeTab" class="tab-content active">
            <div class="account-container">
                <h2 id="welcomeMessage">Welcome,</h2>
                <div class="user-info">
                    <p><strong>Rank:</strong> <span id="facRank"></span></p>
                    <p><strong>Last Name:</strong> <span id="facLastName"></span></p>
                </div>
            </div>
        </section>

        <!-- Classes Tab Content -->
        <section id="classesTab" class="tab-content">
            <div class="account-container">
                <h2>View All Classes</h2>
                <p>Here you will see the list of all classes.</p>
                <!-- You can add a dynamic list of classes here -->
				
				<div>
					<label for="department_dropdown">Select a Department:</label>
					<select id="department_dropdown" name="options">
					<option value="any">Any</option> <!-- The Any option -->
					</select>
				</div>

				<div>
					<label for="semester_dropdown">Select a Semester:</label>
					<select id="semester_dropdown" name="options">
					<option value="any">Any</option> <!-- The Any option -->
					</select>
				</div>
				
				<div>
					<label for="courses_dropdown">Select a Course:</label>
					<select id="courses_dropdown" name="options">
					<option value="none"></option> <!-- The blank/empty option -->
					</select>
				</div>


            </div>
        </section>
    
       <!-- Create Account Section -->
  <section id="create_account" class="tab-content">
    <h2>Create Account</h2>
    <div class="create-container">
      <form id="creation_form">
        <div class="input-container">
          <label for="lastName">Faculty Last Name</label>
          <input type="text" id="faclastname" name="faclastname" required>
        </div>
        <div class="input-container">
        <label for="facrank">Faculty Rank</label>
        <select id="facrank" name="facrank" required>
          <option value="Professor">Professor</option>
          <option value="Chair">Chair</option>
          <option value="Admin">Admin</option>
        </select>
      </div>
      <!-- Updated Create Account Section -->
<div class="input-container">
    <label for="create_department_dropdown">Select a Department:</label>
    <select id="create_department_dropdown" name="options">
        <option value="any">Any</option> <!-- The Any option -->
    </select>
</div>

				
        <div class="input-container">
          <label for="email">Email</label>
          <input type="email" id="facemail" name="email" required>
        </div>
        <div class="input-container">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required>
        </div>
        <input type="button" value="Create Account" onclick="createUser()">
      </form>
      <div id="signupMessage"></div>
    </div>
  </section>

<!-- New Student Tab Content -->
<section id="newStudent" class="tab-content">
    <div class="account-container">
        <h2>Manually Add Student Into Roster</h2>
        <form id="student_creation_form">
            <!-- Student ID Input -->
            <div class="input-container">
                <label for="id_num">Student ID Number:</label>
                <input type="text" id="id_num" name="id_num" required>
            </div>
			<!-- Department Dropdown Place holder-->
             <div>
                <label for="new_student_department_dropdown">Select a Department:</label>
                <select id="new_student_department_dropdown" name="options">
                    <option value="none"></option>
                </select>
             </div>
            <!-- First Name Input -->
            <div class="input-container">
                <label for="first_name">Student First Name:</label>
                <input type="text" id="first_name" name="first_name" required>
            </div>
			<!-- Semester Dropdown -->
			<div>
				<label for="new_student_semester_dropdown">Select a Semester:</label>
				<select id="new_student_semester_dropdown" name="options">
					<option value="none">Any</option>
				</select>
			</div>
            <!-- Last Name Input -->
            <div class="input-container">
                <label for="last_name">Student Last Name:</label>
                <input type="text" id="last_name" name="last_name" required>
            </div>
            <!-- Course Dropdown Placeholder-->
            <div>
                <label for="new_student_courses_dropdown">Select a Course:</label>
                <select id="new_student_courses_dropdown" name="options">
                    <option value="none"></option>
                </select>
            </div>
            <!-- Submit Button -->
            <input type="submit" value="Submit" onclick="addStudentToRoster(event)">
        </form>
		<div class="manual_submission_feedback_container" id="new_student_manual_submission_feedback_container">
			
		</div>
		<h2>Upload Students Into Rosters</h2>
		<p>
			Upload a .txt or .csv file containing student information. More info on the <a href="javascript:void(0);" onclick="openTab('helpTab')"><i>Help</i></a> page.<br>
		</p>
		<div class="upload_new_student_csv_container" id="upload_new_student_csv_container1">
			<div class="new_student_csv_col" id="left_new_student_csv_col">
				<label class="new_student_csv_choose_file_button" id="new_student_csv_choose_file_button">
					<input type="file" id="new_student_csv_file_input" accept=".txt, .csv" onchange="handleNewStudentCSVChooseFile()"/>
						Choose File
				</label>
			</div>
			<div class="new_student_csv_col" id="new_student_csv_file_name_col">
				<span id="new_student_csv_file_name">No file chosen</span>
			</div>
			<div class="new_student_csv_col" id="new_student_csv_midspace_col">
			
			</div>
			<div class="new_student_csv_col" id="new_student_csv_upload_col">
				<div class="new_student_csv_upload_button" id="new_student_csv_upload_button" onclick="handleNewStudentCSVUpload()">
					Upload
				</div>
			</div>
		</div>
		<div class="upload_new_student_csv_container" id="upload_new_student_csv_container2">
			<div class="new_student_csv_col" id="new_student_csv_feedback_col">
					
				</div>
		</div>
    </div>
</section>

<!-- Roster Removal Tab -->
<section id="removeStudent" class="tab-content">
	<div class="account-container">
		<h2>Manually Remove Student From Roster</h2>
        <form id="student_removal_form">
            <!-- Student ID Input -->
            <div class="input-container">
                <label for="removal_id_num">Student ID Number:</label>
                <input type="text" id="removal_id_num" name="removal_id_num" required>
            </div>
			<!-- Department Dropdown Place holder-->
             <div>
                <label for="remove_student_department_dropdown">Select a Department:</label>
                <select id="remove_student_department_dropdown" name="options">
                    <option value="none"></option>
                </select>
             </div>
            <!-- First Name Input -->
            <div class="input-container">
                <label for="removal_first_name">Student First Name:</label>
                <input type="text" id="removal_first_name" name="removal_first_name" required>
            </div>
			<!-- Semester Dropdown -->
			<div>
				<label for="remove_student_semester_dropdown">Select a Semester:</label>
				<select id="remove_student_semester_dropdown" name="options">
					<option value="none">Any</option>
				</select>
			</div>
            <!-- Last Name Input -->
            <div class="input-container">
                <label for="removal_last_name">Student Last Name:</label>
                <input type="text" id="removal_last_name" name="removal_last_name" required>
            </div>
            <!-- Course Dropdown Placeholder-->
            <div>
                <label for="remove_student_courses_dropdown">Select a Course:</label>
                <select id="remove_student_courses_dropdown" name="options">
                    <option value="none"></option>
                </select>
            </div>
            <!-- Submit Button -->
            <input type="submit" value="Submit" onclick="removeStudentFromRoster(event)">
        </form>
		<div class="manual_submission_feedback_container" id="remove_student_manual_submission_feedback_container">
			
		</div>
		<h2>Upload Student Removals from Rosters</h2>
		<p>
			Upload a .txt or .csv file containing student information. More info on the <a href="javascript:void(0);" onclick="openTab('helpTab')"><i>Help</i></a> page.<br>
		</p>
		<div class="upload_remove_student_csv_container" id="upload_remove_student_csv_container1">
			<div class="remove_student_csv_col" id="left_remove_student_csv_col">
				<label class="remove_student_csv_choose_file_button" id="remove_student_csv_choose_file_button">
					<input type="file" id="remove_student_csv_file_input" accept=".txt, .csv" onchange="handleRemoveStudentCSVChooseFile()"/>
						Choose File
				</label>
			</div>
			<div class="remove_student_csv_col" id="remove_student_csv_file_name_col">
				<span id="remove_student_csv_file_name">No file chosen</span>
			</div>
			<div class="remove_student_csv_col" id="remove_student_csv_midspace_col">
			
			</div>
			<div class="remove_student_csv_col" id="remove_student_csv_upload_col">
				<div class="remove_student_csv_upload_button" id="remove_student_csv_upload_button" onclick="handleRemoveStudentCSVUpload()">
					Upload
				</div>
			</div>
		</div>
		<div class="upload_remove_student_csv_container" id="upload_remove_student_csv_container2">
			<div class="remove_student_csv_col" id="remove_student_csv_feedback_col">
					
				</div>
		</div>
	
	</div>
</section>
	    
<section id="helpTab" class="tab-content">
    <div class="account-container">
        <h2>FAQ / Help for Administrators:</h2>
        <div class="questions-container">
			<div class="question">
                <button>
                    <span>What permissions do admins have?</span>
                    <i class="fas fa-chevron-down d-arrow"></i>
                </button>
                <p class="answer">Admins have full access to all features, including managing users, classes, and viewing reports.</p>
            </div>
			<div class="question">
                <button>
                    <span>Can admins reset user passwords?</span>
                    <i class="fas fa-chevron-down d-arrow"></i>
                </button>
                <p class="answer">Admins can guide users through the password reset process, but users must reset their passwords through the provided "Forgot Password" feature.</p>
            </div>
			<div class="question">
                <button>
                    <span>How can I create a professor account?</span>
                    <i class="fas fa-chevron-down d-arrow"></i>
                </button>
                <p class="answer">Select the Create Account tab and enter the professor's information using the dropdown menus to select rank and the department.</p>
            </div>
            <div class="question">
                <button>
                    <span>How do I add a student to a course roster?</span>
                    <i class="fas fa-chevron-down d-arrow"></i>
                </button>
                <p class="answer">Go to the New Student tab and input the required information for the student and use the dropdown boxes to select the class, semester, and department the class is in.</p>
            </div>
			<div class="question">
				<button>
					<span>How do I upload a file of students to course rosters?</span>
					<i class="fas fa-chevron-down d-arrow"></i>
				</button>
				<p class="answer">Upload a .txt or .csv file containing student information in the following format on each line:<br><small><b>
					&lt;Student ID&gt;,&lt;First Name&gt;,&lt;Last Name&gt;,&lt;Department Code&gt;,<br>&lt;Course Number&gt;,&lt;Section&gt;,&lt;Semester&gt;,&lt;Professor Last Name&gt;</b>
					<br><br>
					Example:<br><b>
					123456789,John,Smith,CPSC,135,010,Fall 2024,Lastname<br>
					234567890,Mary,Smith,ARTH,24,020,Spring 2025,Lastname<br><br></b></small>
					Then, click the Upload button. This will attempt to read through your file and insert the students into their respective rosters as designated in the file.
					If a student is already registered in that course, they will be skipped. If any students fail to be inserted into a roster, a list of failed attempts will
					be provided so you can investigate.
				</p>
			</div>
        </div>
    </div>
</section>

	
	 <section id="accountTab" class="tab-content">
            <div class="account-container">
		    <h2> View your Account Information: </h2>
            </div>
        </section>
	

	 <section id="notificationTab"  class="tab-content">
            <div class="account-container">
		    <h2>View Your Notifications:  </h2>
                </div>
        </section>
     
	
	

    </main>		    
    <footer>
    <p><small>&copy; 2024 MADZ Attendance</small></p>
    </footer>
<script src="adminHome.js"></script>
</body>
</html>
